package com.handlerexploit.news;

import com.handlerexploit.news.adapters.ArticleAdapter;
import com.handlerexploit.news.data.ArticlesProvider;
import com.handlerexploit.news.data.ArticlesProvider.Articles;
import com.handlerexploit.news.data.ArticlesProvider.Section;

import android.app.ListActivity;
import android.os.Bundle;
import android.os.Handler;

public class MainActivity extends ListActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        
        final Handler handler = new Handler();
        new Thread(new Runnable() {
            public void run() {
                final Articles articles = ArticlesProvider.getArticles(Section.TOP_STORIES);
                handler.post(new Runnable() {
                    public void run() {
                        setListAdapter(new ArticleAdapter(MainActivity.this, articles));
                    }
                });
            }
        }).start();
    }
}